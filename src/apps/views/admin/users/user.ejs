<%- include("../layout/index", {title: "Danh sách thành viên"}) %>

<div class="col-sm-9 col-sm-offset-3 col-lg-10 col-lg-offset-2 main">			
    <div class="row">
        <ol class="breadcrumb">
            <li><a href="/admin/dashboard"><svg class="glyph stroked home"><use xlink:href="#stroked-home"></use></svg></a></li>			
            <li class="active">Danh sách thành viên</li>
        </ol>
    </div><!--/.row-->
    
    <div class="row">
        <div class="col-lg-12">
            <h1 class="page-header">Danh sách thành viên</h1>
        </div>
    </div><!--/.row-->
    <div id="toolbar" class="btn-group">
        <a href="/admin/users/create" class="btn btn-success">
            <i class="glyphicon glyphicon-plus"></i> Thêm thành viên
        </a>
    </div>
    <div class="row">
        <div class="col-lg-12">

            <div class="panel panel-default">
                <div class="panel-body">
                    <table 
                        data-toolbar="#toolbar"
                        data-toggle="table">

                        <thead>
                        <tr>
                            <th data-field="id" data-sortable="true">STT</th>
                            <th data-field="name"  data-sortable="true">Họ & Tên</th>
                            <th data-field="price" data-sortable="true">Email</th>
                            <th>Quyền</th>
                            <th>Hành động</th>
                        </tr>
                        </thead>
                        <tbody>
                            <% 
                                var counter = 1;
                                for ( _item of page.user_list ) 
                            { %>
                            <tr>
                                <td style=""><%= counter++ %></td>
                                <td style=""><%= _item.full_name %></td>
                                <td style=""> <%= _item.email %> </td>
                                <td>
                                    <% if (_item.role != 'admin') { %>                                        
                                    <span class="label label-danger"><%= _item.role %></span>
                                    <% } else { %>
                                    <span class="label label-warning"><%= _item.role %></span>
                                    <% } %>
                                </td>
                                <td class="form-group">
                                    <a href="/admin/users/edit/<%= _item.id %>" class="btn btn-primary"><i class="glyphicon glyphicon-pencil"></i></a>
                                    <a href="/admin/users/delete/<%= _item._id %>" class="btn btn-danger"><i class="glyphicon glyphicon-remove"></i></a>
                                </td>
                            </tr>
                            <% } %>
                        </tbody>
                    </table>
                </div>
                
                <% if (page.paging.length > 1) { %>
                <div class="panel-footer">
                    <nav aria-label="Page navigation example">
                        <ul class="pagination">
                            <% page.paging.forEach(item => { %>
                            <li class="page-item <%= item.is_current == 1 ? 'active': '' %>">
                                <a class="page-link" href="<%= (item.name != '...') ? item.url : 'javascript:void(0)' %>"> <%= item.name %> </a>
                            </li>
                            <% }); %>
                        </ul>
                    </nav>
                </div>
                <% } %>
                
            </div>
        </div>
    </div><!--/.row-->	
</div>	<!--/.main-->

<script src="js/jquery-1.11.1.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/bootstrap-table.js"></script>	

    
<%- include("../layout/footer") %>